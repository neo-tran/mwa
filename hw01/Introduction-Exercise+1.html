<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Arrow Functions</title>
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
</head>
<body>

<ul>
  <li data-time="5:17">NodeJs Video</li>
  <li data-time="8:22">NodeJs Video</li>
  <li data-time="3:34">AngularJs Video</li>
  <li data-time="5:23">NodeJs Video</li>
  <li data-time="7:12">NodeJs Video</li>
  <li data-time="7:24">AngularJs Video</li>
  <li data-time="6:46">NodeJs Video</li>
  <li data-time="4:45">NodeJs Video</li>
  <li data-time="4:40">NodeJs Video</li>
  <li data-time="7:58">AngularJs Video</li>
  <li data-time="11:51">Video NodeJs</li>
  <li data-time="9:13">NodeJs Video</li>
  <li data-time="5:50">NodeJs Video</li>
  <li data-time="5:52">AngularJs Video</li>
  <li data-time="5:49">NodeJs Video</li>
  <li data-time="8:57">NodeJs Video</li>
  <li data-time="11:29">NodeJs Video</li>
  <li data-time="3:07">NodeJs Video</li>
  <li data-time="5:59">AngularJs Video</li>
  <li data-time="3:31">NodeJs Video</li>
</ul>

<script>

  // Select all the list items on the page and convert to array
  var arr = $("li").toArray();
  //alert(arr.map(x => x.innerHTML));
  
  // Filter for only the elements that contain the word 'NodeJs'
  var nodejsItems = arr.filter(function (value){ 
    return (value.innerHTML.indexOf('NodeJs') >= 0 ); 
  });
  //alert(nodejsItems.map(x => x.innerHTML));

  // map down to a list of time strings
  var timeStrings = arr.map(function (item){ 
    return item.getAttribute("data-time").toString(); 
  });
  //alert(timeStrings);

  // map to an array of seconds
  var secondsList = timeStrings.map(function(timeString){ 
    let minutes = timeString.split(':')[0];
    let seconds = timeString.split(':')[1];
    return (parseInt(minutes) * 60 + parseInt(seconds)).toString();
  });
  //alert(secondsList);

  // reduce to get total
  var totalSecond = secondsList.reduce(function(prev, curr){
    return parseInt(prev) + parseInt(curr);
  });
  //alert(totalSecond);

  // This can also be done in a single .reduce(), but we're practicing arrow functions here, so chain them!
  var getSum = (array) => {
    let sum = 0; 
    for(var i = 0; i < array.length; i++)
      sum += parseInt(array[i]);
    return sum;
  }

  var sumSeconds = getSum(secondsList);
  //alert(sumSeconds);


</script>
</body>
</html>
